<%= content_for :page_title, "What is the minimum degree classification you require?" %>

<% content_for :before_content do %>
  <%= govuk_back_link_to degrees_start_provider_recruitment_cycle_course_path %>
<% end %>

<%= render "shared/errors" %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= form_with model: @grade_form, url: degrees_grade_provider_recruitment_cycle_course_path(
                    @course.provider.provider_code,
                    @course.provider.recruitment_cycle_year,
                    @course.course_code,
                  ),
                  method: :put,
                  builder: GOVUKDesignSystemFormBuilder::FormBuilder do |form| %>

      <span class="govuk-caption-xl"><%= course.name_and_code %></span>

      <%= form.govuk_radio_buttons_fieldset :grade, legend: { text: "What is the minimum degree classification you require?", tag: "h1", class: "govuk-heading-xl govuk-!-margin-bottom-2" } do %>

        <%= form.govuk_radio_button :grade, "two_one", label: { text: "2:1 or above (or equivalent)" }, data: { qa: "degree_grade__two_one" }, link_errors: true %>
        <%= form.govuk_radio_button :grade, "two_two", label: { text: "2:2 or above (or equivalent)" }, data: { qa: "degree_grade__two_two" } %>
        <%= form.govuk_radio_button :grade, "third", label: { text: "Third or above (or equivalent)" }, data: { qa: "degree_grade__third_class" } %>
      <% end %>

      <%= form.submit "Save", class: "govuk-button", data: { qa: "degree_grade__save" } %>
    <% end %>
  </div>
</div>
