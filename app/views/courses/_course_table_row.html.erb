<tr class="govuk-table__row">
  <td class="govuk-table__cell course-table__course-name" data-qa="courses-table__course">
    <%= govuk_link_to "#{ course.attributes[:name] } (#{ course.attributes[:course_code] })",
      manage_ui_course_page_url(provider_code: @provider[:provider_code], course_code: course.attributes[:course_code]),
      class: "govuk-link govuk-heading-s govuk-!-margin-bottom-0"
    %>
    <span class="govuk-body-s"><%= course.attributes[:description] %></span>
  </td>
  <td class="govuk-table__cell" data-qa="courses-table__ucas-status">
    <%= course_ucas_status(course) %>
  </td>
  <td class="govuk-table__cell" data-qa="courses-table__content-status">
    <% if course.is_running? %>
      <%= render partial: 'content_status_tag', locals: { course: course } %>
    <% end %>
  </td>
  <td class="govuk-table__cell" data-qa="courses-table__findable">
    <% if course.attributes[:findable?] %>
      <%= govuk_link_to "Yes - view online",
        search_ui_course_page_url(provider_code: @provider[:provider_code], course_code: course.attributes[:course_code])
      %>
    <% else %>
      <% if course.ucas_status == 'new' %>
        No â€“ <% @provider.opted_in? ? 'still in draft' : 'must be published on UCAS' %>
      <% else %>
        No
      <% end %>
    <% end %>
  </td>
  <td class="govuk-table__cell" data-qa="courses-table__applications">
    <% if course.is_running? %>
      <%= course.open_for_applications? ? "Open" : "Closed" %>
    <% end %>
  </td>
  <td class="govuk-table__cell" data-qa="courses-table__vacancies">
    <% if course.is_running? %>
      <%= course.has_vacancies? ? "Yes" : "No" %>
      <% if @provider.opted_in? %>
        (<%= link_to 'Edit', vacancies_provider_course_path(code: course.attributes[:course_code]), class: 'govuk-link' %>)
      <% end %>
    <% end %>
  </td>
</tr>
