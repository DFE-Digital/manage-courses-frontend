<%= content_for :page_title, "GCSE requirements for applicants – #{course.name_and_code}" %>
<% content_for :before_content do %>
  <%= govuk_back_link_to(details_provider_recruitment_cycle_course_path(course.provider_code, course.recruitment_cycle_year, course.course_code)) %>
<% end %>

<%= render 'shared/errors' %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-xl">
      <span class="govuk-caption-xl">UCAS Apply</span>
      GCSE requirements for&nbsp;applicants
    </h1>

    <p class="govuk-body">
      By law, all applicants need GCSE grade C/grade 4, or an equivalent, in English and Mathematics – plus Science for Primary courses.
    </p>

    <p class="govuk-body">
      Candidates may still be taking a GCSE when they apply. Alternatively, they can take an equivalency test to demonstrate they have the required skills to start a course.
    </p>

    <p class="govuk-body govuk-!-margin-bottom-8">
      The codes you pick determine how flexible you are towards those candidates.
    </p>

    <%= form_for @course,
          url: entry_requirements_provider_recruitment_cycle_course_path(@course.provider_code, @course.recruitment_cycle_year, @course.course_code),
          method: :put do |form| %>

      <%= render partial: 'courses/entry_requirements/subject_choices', locals: {form: form, subject: :maths } %>
      <%= render partial: 'courses/entry_requirements/subject_choices', locals: {form: form, subject: :english } %>

      <% if course.is_primary? %>
        <%= render partial: 'courses/entry_requirements/subject_choices', locals: {form: form, subject: :science } %>
      <% else %>
        <h2 class="govuk-heading-m">
          Science GCSE
        </h2>
        <p class="govuk-body">There is no science GCSE requirement for secondary courses.</p>
        <%= form.hidden_field 'science', value: 'not_set' %>
      <% end %>

      <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">
      <p class="govuk-body">Changes will appear on UCAS Apply within 2 hours.</p>

      <%= form.submit "Save changes", class: "govuk-button", data: { qa: 'course__save' } %>

      <p class="govuk-body">
        <%= link_to 'Cancel changes',
          details_provider_recruitment_cycle_course_path(course.provider_code, course.recruitment_cycle_year, course.course_code),
          class: "govuk-link govuk-link--no-visited-state" %>
      </p>
    <% end %>
  </div>
</div>
