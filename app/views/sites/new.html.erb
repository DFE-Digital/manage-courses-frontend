<%= content_for :page_title, "#{@errors.any? ? "Error: " : ""}Add a location" %>

<% content_for :before_content do %>
  <nav class="govuk-breadcrumbs">
    <ol class="govuk-breadcrumbs__list">
      <% if @has_multiple_providers then %>
        <li class="govuk-breadcrumbs__list-item">
          <%= link_to "Organisations", providers_path, class: "govuk-breadcrumbs__link" %>
        </li>
      <% end %>
      <li class="govuk-breadcrumbs__list-item">
        <%= link_to @provider.attributes[:provider_name], provider_path(code: @provider.attributes[:provider_code]), class: "govuk-breadcrumbs__link" %>
      </li>
      <li class="govuk-breadcrumbs__list-item">
        <%= link_to "Locations", provider_recruitment_cycle_sites_path(@provider[:provider_code]), class: "govuk-breadcrumbs__link" %>
      </li>
      <li class="govuk-breadcrumbs__list-item" aria-current="page">
        Add a location
      </li>
    </ol>
  </nav>
<% end %>

<%= render 'shared/errors' %>

<h1 class="govuk-heading-xl">Add a location</h1>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= form_with model: @site, url: provider_recruitment_cycle_sites_path(params[:provider_code]), method: :post do |f| %>
      <p class="govuk-body">Once a location is added (and assigned to a course), candidates can choose it as their preferred place of training when completing the UCAS application form.</p>
      <p class="govuk-body">When you’ve added this location you can assign it to a course from the ‘Basic details’ tab on the course page.</p>
      <hr class="govuk-section-break govuk-section-break--l">
      <%= render 'form', f: f %>
      <%= f.submit "Save", class: "govuk-button", data: { qa: 'location__publish-changes' } %>
    <% end %>
    <p class="govuk-body">
      <%= link_to "Cancel changes", provider_recruitment_cycle_sites_path(@provider[:provider_code]), class: "govuk-link govuk-link--no-visited-state" %>
    </p>
  </div>
</div>
